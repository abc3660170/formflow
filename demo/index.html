<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
    <title>test</title>
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/formflow.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-shim.min.js"></script>
    <script src="../lib/jquery.js"></script>
    <script src="../lib/logger.js"></script>
    <script src="../dist/bundle.js"></script>
</head>
<body style="margin: 100px;">
    <div style="margin-bottom: 20px;">
        <button id="ajaxSeg">异步字段请求</button>
        <select id="selectCol" style="height: 24px;">
            <option value="4">表单共有多少列</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>
    </div>
    <div id="form"></div>
    <!--<table class="hc-formflow">-->
        <!--<tbody>-->
            <!--<tr>-->
                <!--<td class="hc-formflow-label">姓名</td>-->
                <!--<td class="hc-formflow-value">陈涛</td>-->
                <!--<td class="hc-formflow-label">性别</td>-->
                <!--<td class="hc-formflow-value">男</td>-->
                <!--<td class="hc-formflow-label">名族</td>-->
                <!--<td class="hc-formflow-value">汉</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td class="hc-formflow-label">手机号码</td>-->
                <!--<td class="hc-formflow-value">15195949949</td>-->
                <!--<td class="hc-formflow-label">服务场所</td>-->
                <!--<td class="hc-formflow-value" colspan="3">精髓分公司（保安主管），华润万家生活超市（广州）公司</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td class="hc-formflow-label">出生日期</td>-->
                <!--<td class="hc-formflow-value" colspan="2">15195949949</td>-->
                <!--<td class="hc-formflow-label">服务场所</td>-->
                <!--<td class="hc-formflow-value" colspan="2">精髓分公司（保安主管），华润万家生活超市（广州）公司</td>-->
            <!--</tr>-->
            <!--<tr>-->
                <!--<td class="hc-formflow-label">备注</td>-->
                <!--<td class="hc-formflow-value" colspan="5">我是一个不回家的人，我是一个不回家的人，我是一个不回家的人，我是一个不回家的人，我是一个不回家的人，我是一个不回家的人我是一个不回家的人，我是一个不回家的人，我是一个不回家的人我是一个不回家的人</td>-->
            <!--</tr>-->
        <!--</tbody>-->
    <!--</table>-->
</body>
<script>
    var ff
    var currentLayout;
    $(document).ready(function(){
        ff = $("#form").formflow({"animate":false});
        $.get( "../test/data.json", function( data ) {
            ff.formflow("setData",data)
            ff.formflow("render")
            $("#selectCol").on("change",function(){
                currentLayout = $(this).val()
                ff.formflow("render",currentLayout)
            })

            $(window).on("resize",function(){
                ff.formflow("_resizeDom")
            })
            // console.log("chentao:",myCol)
        });

        $("#ajaxSeg").on("click",function(){
            $.get( "../test/data.json", function( data ) {
                data[0].querying = true
                data[0].id = "test0"
                data[2].querying = true
                data[2].id = "test2"
                data[6].querying = true
                data[6].id = "test6"
                data[22].querying = true
                ff.formflow("setData",data)
                ff.formflow("render",currentLayout)
                var timeDelay = 0
                setTimeout(function(){
                    ff.formflow("updateCol",{"id":"test0","vText":data[0].vText})
                },timeDelay = timeDelay+1000)
                setTimeout(function(){
                    ff.formflow("updateCol",{"id":"test2","vText":data[2].vText})
                },timeDelay = timeDelay+1000)
                setTimeout(function(){
                    ff.formflow("updateCol",{"id":"test6","vText":data[6].vText})
                },timeDelay = timeDelay+1000)
                setTimeout(function(){
                   ff.formflow("updateCol",{"id":"tiezi","vText":data[22].vText})
                },timeDelay = timeDelay+1000)
            });
        })


    })
</script>
</html>